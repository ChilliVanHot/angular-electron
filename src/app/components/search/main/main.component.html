<div class="container">
    <div class="row">
        <div class="col-sm-8">
            <div class="selectedPatientBar">
                <!-- <div class="selectedPatientBar" *ngIf="patientService.patient.registration.familyName !== ''"></div> -->
                <span class="value patient_title">
                    Mr John Smith
                </span><span class="info nhs_number">(Birth date: 11/09/1989) (NHS Number: 123456)</span>
            </div>
            <!-- <div class="selectedPatientBar" *ngIf="this.patientService.patient.registration.familyName == ''">
            <div class="info no_patient">
                    No Patient Selected
            </div>
    </div> -->
        </div>
        <div class="col-sm-4 pull-right pt-2 mt-1">
            <button type="button" class="btn btn-sm  btn-primary">
                <i class="fa fa-user"></i> {{'REF_SEARCH_NEW_PATIENT' | translate}}
            </button>
            <button type="button" class="btn btn-sm" [class.active]="isVisibleGrid" (click)="isVisibleGrid = !isVisibleGrid">
                <i class="fa fa-sort-up fa-3x" [ngStyle]="{'color':isVisibleGrid ? '#002567' : 'lightgrey' }"></i>
            </button>
        </div>
    </div>
    <div class="row m-0 mt-2">


        <form class="w-100 search-form" *ngIf="referralForm">
            <div class="row w-100 pr-0">

                <div class="col-4 mb-2 pt-1 pr-0">
                    <label for="type" class="control-label text-left">{{'REF_SEARCH_KEY_WORDS' | translate}}</label>
                    <input type="text" class="form-control" placeholder="Enter Referral Form Keywords">
                </div>
                <div class="col-4 mb-2 pt-1 pr-0">
                    <label for="type" class="control-label text-left">{{'REF_SEARCH_FORM_NAME' | translate}}</label>
                    <input type="text" class="form-control" placeholder="Enter Document Name">
                </div>
                <div class="col-4 mb-2 pt-1 pr-0">
                    <label for="type" class="control-label text-left">{{'REF_SEARCH_SPECIALITY' | translate}}</label>
                    <input type="text" class="form-control" placeholder="Enter Referral Form Speciality Type">
                </div>
            </div>
            <div class="row w-100 pr-0 mt-1 mb-4">
                <div class="col-sm-12 text-center">
                    <button type="button" class="btn btn-sm  btn-primary">
                        {{'SEARCH' | translate}}
                    </button>&nbsp;
                    <button type="button" class="btn btn-sm  btn-outline-primary">
                        {{'CLEAR_BUTTON' | translate}}
                    </button>
                </div>
            </div>
        </form>
        <form class="w-100 search-form" *ngIf="serviceProvider">
            <div class="row w-100 pr-0">

                <div class="col-6 mb-2 pt-1 pr-0">
                    <label for="type" class="control-label text-left">{{'REF_SEARCH_CLINICAL_TERM' | translate}}</label>
                    <input type="text" class="form-control" placeholder="Select Clinic Term">
                </div>
                <div class="col-6 mb-2 pt-1 pr-0">
                    <label for="type" class="control-label text-left">{{'REF_SEARCH_CLINICAL_TYPE' | translate}}</label>
                    <input type="text" class="form-control" placeholder="Select Clinic Type">
                </div>
                <div class="col-6 mb-2 pt-1 pr-0">
                    <label for="type" class="control-label text-left">{{'REF_SEARCH_SERVICE_SPECIALITY' |
                        translate}}</label>
                    <input type="text" class="form-control" placeholder="Head and neck cancer">
                </div>
                <div class="col-6 mb-2 pt-1 pr-0">
                    <label for="type" class="control-label text-left">{{'REF_SEARCH_NAMED_CLINICIAN' |
                        translate}}</label>
                    <input type="text" class="form-control" placeholder="Select Named Clinician">
                </div>
            </div>
            <div class="row w-100 pr-0 mt-1 mb-4">
                <div class="col-sm-12 text-center">
                    <button type="button" class="btn btn-sm  btn-primary">
                        {{'SEARCH' | translate}}
                    </button>&nbsp;
                    <button type="button" class="btn btn-sm  btn-outline-primary">
                        {{'CLEAR_BUTTON' | translate}}
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
<as-split direction="vertical" class="split-minus-header-footer">

    <as-split-area size="25" [visible]="isVisibleGrid" [order]="0">
        <as-split direction="vertical">
            <as-split-area size="25" class="overflow-none">
                <div class="container card shadow p-2 inside-card">

                    <div class="add-margin-top-20"> </div>
                    <table class="table table-striped table-bordered dataTable mb-2 inside-table" role="grid"
                        style="width: 100%;">
                        <thead>
                            <tr role="row">
                                <th (click)="doSort('type')" class="col-1 link" style="height:auto">
                                    <i *ngIf="lastSortCol == 'checked'" class="pull-right fa"
                                        [ngClass]="{ 'fa-chevron-down': sortAsc, 'fa-chevron-up': sortAsc == false} "></i>
                                    &nbsp;
                                </th>
                                <th (click)="doSort('documentName')" class="col-2 link">
                                    <i *ngIf="lastSortCol == 'documentName'" class="pull-right fa"
                                        [ngClass]="{ 'fa-chevron-down': sortAsc, 'fa-chevron-up': sortAsc == false} "></i>
                                    {{'REF_SEARCH_FORM_NAME' | translate}}
                                </th>
                                <th (click)="doSort('type')" class="col-1 link">
                                    <i *ngIf="lastSortCol == 'type'" class="pull-right fa"
                                        [ngClass]="{ 'fa-chevron-down': sortAsc, 'fa-chevron-up': sortAsc == false }"></i>
                                    {{'REF_SEARCH_TYPE' | translate}}
                                </th>
                                <th (click)="doSort('provider')" class="col-2 link">
                                    <i *ngIf="lastSortCol == 'provider'" class="pull-right fa"
                                        [ngClass]="{ 'fa-chevron-down': sortAsc, 'fa-chevron-up': sortAsc == false }"></i>
                                    {{'REF_SEARCH_PROVIDER' | translate}}
                                </th>
                                <th (click)="doSort('speciality')" class="col-2 link">
                                    <i *ngIf="lastSortCol == 'speciality'" class="pull-right fa"
                                        [ngClass]="{ 'fa-chevron-down': sortAsc, 'fa-chevron-up': sortAsc == false }"></i>
                                    {{'REF_SEARCH_SPECIALITY' | translate}}
                                </th>
                                <th (click)="doSort('priority')" class="col-1 link">
                                    <i *ngIf="lastSortCol == 'priority'" class="pull-right fa"
                                        [ngClass]="{ 'fa-chevron-down': sortAsc, 'fa-chevron-up': sortAsc == false }"></i>
                                    {{'REF_SEARCH_PRIORITY' | translate}}
                                </th>
                                <th (click)="doSort('criteriaMet')" class="col-1 link">
                                    <i *ngIf="lastSortCol == 'criteriaMet'" class="pull-right fa"
                                        [ngClass]="{ 'fa-chevron-down': sortAsc, 'fa-chevron-up': sortAsc == false }"></i>
                                    {{'REF_SEARCH_CRITERIA_MET' | translate}}
                                </th>
                                <th (click)="doSort('waitTime')" class="col-1 link">
                                    <i *ngIf="lastSortCol == 'waitTime'" class="pull-right fa"
                                        [ngClass]="{ 'fa-chevron-down': sortAsc, 'fa-chevron-up': sortAsc == false }"></i>
                                    {{'REF_SEARCH_WAIT_TIME' | translate}}
                                </th>
                                <th (click)="doSort('check')" class="col-1 link" style="height:auto">
                                    <i *ngIf="lastSortCol == 'check'" class="pull-right fa"
                                        [ngClass]="{ 'fa-chevron-down': sortAsc, 'fa-chevron-up': sortAsc == false }"></i>
                                    &nbsp;
                                </th>
                            </tr>
                        </thead>
                        <as-split direction="vertical" class="split-minus-header inside-footer"
                            style="height: calc(100vh - 240px)">
                            <as-split-area size="25">
                                <tbody>
                                    <tr>
                                        <td *ngIf="loadingData" class="col-12" align='center'>
                                            <img
                                                src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                                        </td>
                                    </tr>
                                    <tr *ngFor="let item of itemList" (click)="showPage(item)">
                                        <td class="col-1"><span *ngIf="!isIssue"
                                                class="badge badge-danger alert-badge red-badge">!</span></td>
                                        <td class="col-2">{{ item.documentName }}</td>
                                        <td class="col-1">{{ item.type }}</td>
                                        <td class="col-2">{{ item.provider }}</td>
                                        <td class="col-2">{{ item.speciality }}</td>
                                        <td class="col-1"
                                            [ngClass]="{'blue-bg' : item.priority == 'Routine', 'red-bg' : item.priority == 'Urgent', 'yellow-bg' : item.priority == '2week wait'}">
                                            <img class="svg" width="12" src="assets/images/icon/axon/statusBlue.svg"
                                                *ngIf="item.priority == 'Routine'" />
                                            <img class="svg" width="12" src="assets/images/icon/axon/statusRed.svg"
                                                *ngIf="item.priority == 'Urgent'" />
                                            <img class="svg" width="12" src="assets/images/icon/axon/statusYellow.svg"
                                                *ngIf="item.priority == '2week wait'" />
                                            {{ item.priority }}
                                        </td>
                                        <td class="col-1">{{ item.criteriaMet }}</td>
                                        <td class="col-1">{{ item.waitTime }}</td>
                                        <td class="col-1">
                                            <form><input type="checkbox" class="pull-right" name="itemSelection"
                                                    style="height:auto"></form>
                                        </td>
                                    </tr>
                                    <tr *ngIf="loadingData == false && itemList.length == 0 ">
                                        <td class="col-12" align='center'>{{'NO_RECORDS_FOUND' | translate}}</td>
                                    </tr>
                                </tbody>
                            </as-split-area>
                        </as-split>

                        <tfoot>
                            <tr role="row">
                                <div class="d-flex justify-content-between p-2">
                                    <ngb-pagination [collectionSize]="itemList.length" [(page)]="page"
                                        [pageSize]="pageSize" size="sm">
                                    </ngb-pagination>

                                    <select class="custom-select" style="width: auto" [(ngModel)]="pageSize">
                                        <option value="10">10 {{'ITEMS_PER_PAGE' | translate}}</option>
                                        <option value="20">20 {{'ITEMS_PER_PAGE' | translate}}</option>
                                        <option value="50">50 {{'ITEMS_PER_PAGE' | translate}}</option>
                                    </select>
                                </div>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </as-split-area>
        </as-split>
    </as-split-area>
